# tabiji

## サービス概要

旅行の行き先が決まっても「どのスポットに行くか」「どの順で回るか」を計画するのは難しく、メンバーが多いと意見をまとめるのも大変です。

本サービスは、LINE の Bot や LIFF を利用し、普段の LINE でのやり取りの延長で旅行プランを整理・作成できるアプリです。

LINE 上で簡単にスポット選定や日程調整ができ、効率よく旅行プランを立てられることを目指します。

## このサービスへの思い・作りたい理由

一人旅で行きたいスポットや訪問時間をメモアプリでまとめるのが面倒に感じていました。

友人との旅行計画では、意見出しや意見の集約に時間がかかりストレスを感じていました。

旅行計画をもっと気軽に、普段使っている LINE で完結させたいと考えたのがサービス化のきっかけです。

## 想定ユーザー層

- 1 人旅を楽しむ個人
- カップルや友達グループ（2〜4 人程度）
- 主に 10 代〜30 代の若い世代（学生・社会人）

## サービス利用イメージ（初期案）

- LINE グループに Bot を追加
- ユーザーが旅行日程（例：2 泊 3 日）を入力（カレンダー UI などで）
- エリアを選択（都道府県や地方単位）すると、有名スポットがレコメンドされる
- LINE トークで入力されたスポット名や URL もプランに反映
- 選択したスポットを日ごとに効率的に回れる旅程を自動生成
- 各日のスタート・ゴール地点（駅・空港・ホテル）を設定可能（ホテルから出発し、最終日は駅や空港で終了など）

## サービスの差別化・推しポイント

- LINE で完結：他アプリを開かずに旅行プランを作成できる
- 自然な情報収集：普段の LINE のやり取り内容をそのまま旅行プランに反映可能
- 効率化されたプラン作成：複数人の意見をまとめ、自動で旅程を生成できる

## ユーザー獲得方法

- 自身の SNS で発信
- 実際に友達との旅行プランニングで利用し、口コミで拡散
- コミュニティやオンラインイベントで紹介

## 機能候補

### ✅ MVP リリース時に必要な機能

- **Bot 連携**
  - 「旅行プランを作成」などのトリガー入力
  - Flex Message で LIFF 起動ボタンを返す
  - 簡単な Yes/No や確認用の操作
- **LIFF アプリ**
  - 日程入力フォーム（カレンダー UI）
  - エリア選択（地方 → 都道府県レベル）
  - スポット選択
    - Google Maps API による有名スポットのレコメンド
    - チェックボックス形式で選択
    - LINE トークで入力されたスポット名や URL を追加可能
  - 地図表示
    - 選択スポットをピン表示
    - 日毎のルートを軽く描画
- **サーバー処理**
  - 旅程表の自動作成（スポット順序の最適化、日ごとのプラン生成）
  - プラン保存（DB に格納）
  - Bot 経由で完了通知を返す

### 🔜 将来的に追加したい機能

- ホテルや駅をスタート／ゴール地点に設定可能
- 移動時間の詳細表示
  - MVP：徒歩モードのみ（UI 非表示で裏側処理）
  - 拡張：電車・車モードに対応
- リマインダー通知（旅行前日に Bot から自動通知）
- 複数人での分担編集（グループ全員が同じプランを共同編集可能）
- 詳細な旅程分析やおすすめルート提案

## サイトマップ（MVP）

- **Bot（トーク画面）**

  - ウェルカムメッセージ
    - カジュアルトーン
    - サービス概要（簡潔）
    - 主な機能を箇条書き（例：日程入力／スポット選択／自動旅程作成）
    - Flex Message：
      - [プラン作成を始める]（LIFF 起動）
      - [サービス概要を見る]（Bot が詳細説明を再送）
  - リッチメニュー（簡単操作コマンド／6 分割）
    - プラン作成を始める（LIFF 起動）
    - 保存済みプラン一覧
    - ヘルプ
      - Bot が Flex Message で案内を返す
        - タイトル：使い方ガイド
        - 説明文：LIFF 画面で手順を確認できます
        - ボタン：[ヘルプを開く]（LIFF 起動）
    - サービス概要（再表示）
      - Bot がカジュアルなトーンで詳細説明を返す
      - 内容：利用シーン、流れ（ステップ 1〜3）、保存済みプランの案内
    - 問い合わせ／フィードバック
      - Bot が Flex Message で案内を返す
        - タイトル：フィードバック・お問い合わせ
        - 説明文：改善点や不具合があればフォームから送信ください
        - ボタン：[フォームを開く]（Google フォーム URL）

- **LIFF アプリ**

  - **ステップ式 UI**
    - （日程入力〜結果画面まで現状の通り）
  - **保存済みプラン一覧**
    - （現状の通り）
  - **ヘルプ画面**
    - タイトル：「tabiji の使い方」
    - ステップごとの説明
      1. プラン作成開始（Bot から LIFF を開く）
      2. 日程入力（カレンダー UI）
      3. エリア／スポット選択（マップ＋カード UI）
      4. 旅程結果確認（旅程表／マップ切替タブ）
      5. 保存＆シェア（トーク欄に Flex Message 投稿）
    - 各ステップごとに図解画像＋テキスト解説
    - ページ下部：「プラン作成を始める」ボタン

- **LIFF アプリ（ステップ式 UI）**

  - **ステップ 1：日程入力**
    - カレンダー UI で開始日・終了日を選択
    - 選択範囲をハイライト表示
    - 開始日・終了日のテキスト表示
    - 自動算出された日数（例：2 泊 3 日）
    - 「次へ」ボタン
  - **ステップ 2：地図 UI**
    - 日本全体マップ表示
    - 地方選択 → 都道府県選択（マップズーム）
    - おすすめスポット（ピン表示）
    - スポット選択（複数可／LINE トーク入力スポットも追加可能）
    - 下部にカード形式のスポット一覧（横スワイプ可能）
      - 画像（サムネイル）
      - スポット名
      - 一言概要
      - チェックボックス（選択状態をマップのピンと同期）
    - LINE トーク入力スポットもカードに追加表示
    - 「旅程を生成」ボタン
  - **結果画面**
    - プランタイトル（自動生成＋編集可）
    - タブ ① 旅程表
      - トグルスイッチで切替
        - 順序のみビュー
          - 日付ごとにスポットの順序をリスト表示
          - スポット名のみ
        - 時間付きビュー
          - 日付ごとに訪問予定時刻とスポットを表示
          - 移動時間（徒歩のみ、目安）も表示
          - 訪問予定時刻は自動計算された値を表示
          - 訪問予定時刻は `<input type="time">` を利用した時刻ピッカーでインライン修正可能
    - タブ ② マップ
      - スポット表示（番号付きピン）
        - 緑：スタート / 青：通常 / 赤：ゴール
        - ピンタップ → ポップアップ表示
          - スポット名
          - サムネイル画像
      - ルート表示
        - 徒歩モード（Google Directions API）
        - 日ごとのタブ切替
        - 選択中の日付のルートを濃い線で表示
        - 他の日付のルートは薄く表示
      - ズーム・フォーカス
        - 初期表示：その日のルート全体が収まるように自動調整
        - ピンタップでスポットにズームイン
    - プラン保存ボタン
      - 保存時に形式選択：順序のみ／時間付き
      - DB に保存
      - グループのトーク欄に Flex Message 投稿
        - タイトル（例：東京 2 泊 3 日プラン）
        - 日程（開始日〜終了日）
        - スポット概要
          - 1〜4 件：全件表示
          - 5 件以上：先頭 3〜4 件＋「...」
        - 「詳細を見る」ボタン（LIFF 遷移）
  - **保存済みプラン一覧**

    - **一覧画面**

      - 表示形式：縦スクロールのカード一覧
      - **カード構成**
        - ヘッダー画像
          - 固定イラスト（例：旅行／地図イメージ）
          - 将来的にはユーザー投稿写真を利用可能
        - プランタイトル
          - 例：「東京 2 泊 3 日プラン」
        - 日程
          - 開始日〜終了日（例：2025/05/02〜2025/05/04）
        - スポットサマリー
          - スポット名を最大 3〜4 件表示
          - 5 件以上は「…」で省略
        - 操作要素
          - 「詳細を見る」ボタン（→ 詳細画面へ遷移）
          - 将来的に「削除」や「複製」アイコン追加の余地あり
      - **並び順**
        - プラン開始日が近いものから昇順に表示
        - 過去のプランは下部にまとめてもよい（MVP では全件昇順でも OK）

    - **詳細画面**
      - 結果画面と同じ UI（旅程表タブ／マップタブ切替）
      - タイトル編集可能
      - 将来的には「シェア」や「複製」機能を追加できる想定

### 🚀 MVP 以降に実装予定の機能

- **スタート／ゴール地点設定**

  - ホテルや駅・空港をプランのスタート／ゴール地点として設定可能にする
  - 例：2 日目はホテルから出発、最終日は空港で終了

- **移動モードの拡張**

  - MVP：徒歩モードのみ（UI には非表示、裏側で処理）
  - 拡張：電車・車など複数の移動手段をサポート
  - 移動時間の比較や最適ルート提示

- **通知・リマインダー**

  - 旅行前日などに Bot からリマインド通知を送信
  - 出発時刻やチェックイン時刻のアラート

- **複数人での共同編集**

  - グループメンバー全員が同じプランを編集可能
  - LINE グループに紐づいた共同編集モード

- **旅程表の高度化**

  - 詳細な旅程分析（移動時間合計、滞在時間の自動計算など）
  - ユーザーの嗜好や過去の旅行データをもとにおすすめルート提案

- **保存済みプランの強化**

  - カード UI に「削除」や「複製」アイコンを追加
  - 背景画像を固定イラストからユーザー投稿写真に差し替え

- **結果画面の拡張**

  - マップタブで「全日程を同時に表示」できるモード
  - スポットポップアップに説明文や営業時間などを追加

- **SNS 連携／シェア**
  - 旅行プランを画像として出力し SNS でシェア
  - QR コードで他のユーザーにプラン共有

テスト修正

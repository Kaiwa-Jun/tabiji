# 機能仕様書

## 機能候補

### ✅ MVP リリース時に必要な機能

- **Bot 連携**
  - 「旅行プランを作成」などのトリガー入力
  - Flex Message で LIFF 起動ボタンを返す
  - 簡単な Yes/No や確認用の操作

- **LIFF アプリ**
  - 日程入力フォーム（カレンダー UI）
  - エリア選択（地方 → 都道府県レベル）
  - スポット選択
    - Google Maps API による有名スポットのレコメンド
    - チェックボックス形式で選択
    - LINE トークで入力されたスポット名や URL を追加可能
  - 地図表示
    - 選択スポットをピン表示
    - 日毎のルートを軽く描画

- **サーバー処理**
  - 旅程表の自動作成（スポット順序の最適化、日ごとのプラン生成）
  - プラン保存（DB に格納）
  - Bot 経由で完了通知を返す

### 🔜 将来的に追加したい機能

- ホテルや駅をスタート／ゴール地点に設定可能
- 移動時間の詳細表示
  - MVP：徒歩モードのみ（UI 非表示で裏側処理）
  - 拡張：電車・車モードに対応
- リマインダー通知（旅行前日に Bot から自動通知）
- 複数人での分担編集（グループ全員が同じプランを共同編集可能）
- 詳細な旅程分析やおすすめルート提案

## 🚀 MVP 以降に実装予定の機能詳細

### **スタート／ゴール地点設定**

- ホテルや駅・空港をプランのスタート／ゴール地点として設定可能にする
- 例：2 日目はホテルから出発、最終日は空港で終了

### **移動モードの拡張**

- MVP：徒歩モードのみ（UI には非表示、裏側で処理）
- 拡張：電車・車など複数の移動手段をサポート
- 移動時間の比較や最適ルート提示

### **通知・リマインダー**

- 旅行前日などに Bot からリマインド通知を送信
- 出発時刻やチェックイン時刻のアラート

### **複数人での共同編集**

- グループメンバー全員が同じプランを編集可能
- LINE グループに紐づいた共同編集モード

### **旅程表の高度化**

- 詳細な旅程分析（移動時間合計、滞在時間の自動計算など）
- ユーザーの嗜好や過去の旅行データをもとにおすすめルート提案

### **保存済みプランの強化**

- カード UI に「削除」や「複製」アイコンを追加
- 背景画像を固定イラストからユーザー投稿写真に差し替え

### **結果画面の拡張**

- マップタブで「全日程を同時に表示」できるモード
- スポットポップアップに説明文や営業時間などを追加

### **SNS 連携／シェア**

- 旅行プランを画像として出力し SNS でシェア
- QR コードで他のユーザーにプラン共有

## 機能とデータベースのマッピング

機能とDBテーブルの対応関係については、[DBスキーマ設計書](./database-schema.md#機能とテーブルのマッピング)を参照してください。